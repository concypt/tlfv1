"use strict";(()=>{window.fsAttributes=window.fsAttributes||[];window.fsAttributes.push(["cmsload",async t=>{let[e]=t;window.fsAttributes.push(["cmsfilter",r=>{let[l]=r;if(!l||!e)return;let a=H(e,"Completion");if(!a)return;let n=l.form.querySelector('[data-element="completion"]');if(!n)return;y(n,a);let o=[];for(let s=4e5;s<=15e5;s=s+1e5)o.push(s.toString());if(!o)return;let i=l.form.querySelector('[data-element="price-dropdown-min"]');if(!i)return;let c=l.form.querySelector('[data-element="price-dropdown-max"]');if(!c)return;y(i,o),y(c,o);let u=g(e,"criteria-beds","min-beds","max-beds");if(!u)return;let h=g(e,"criteria-baths","min-baths","max-baths");if(!h)return;let f=l.form.querySelector('[data-element="beds-filter"]');if(!f)return;let d=l.form.querySelector('[data-element="baths-filter"]');if(!d)return;let S=f.parentElement;if(!S)return;let L=d.parentElement;if(!L)return;f.remove(),d.remove();for(let s of u){let m=v(s,f);m&&S.append(m)}for(let s of h){let m=v(s,d);m&&L.append(m)}let b=e.items.map(s=>s.element);e.clearItems(),e.addItems(b),l.storeFiltersData();let E=document.querySelector("#min-price");if(!E)return;let T=document.querySelector("#max-price");if(!T)return;E.addEventListener("change",s=>{let m=s.target.value;m&&(document.querySelectorAll("#max-price option").forEach(p=>{p.style.display="block"}),document.querySelectorAll("#max-price option").forEach(p=>{Number(p.value)<=Number(m)&&(p.style.display="none")}),x())}),T.addEventListener("change",s=>{let m=s.target.value;m&&(document.querySelectorAll("#min-price option").forEach(p=>{p.style.display="block"}),document.querySelectorAll("#min-price option").forEach(p=>{Number(p.value)>=Number(m)&&(p.style.display="none")}),x())});let x=()=>{e.clearItems(),e.addItems(b);let s=q(e);s&&(e.clearItems(),e.addItems(s))};document.addEventListener("click",s=>{let m=s.target;m&&(m.classList.contains("checkbox-select-wrapper")?C(m):m.classList.contains("checkbox-select-text")?C(m.parentElement):M())}),document.querySelectorAll(".button-secondary.pagination").forEach(s=>{s.addEventListener("click",()=>{window.scrollTo({top:500,behavior:"smooth"})})})}])}]);var q=t=>{var a,n;let e=Number((a=document.querySelector("#min-price"))==null?void 0:a.value.replace(/,/g,""));if(!e)return;e=e-26e3;let r=Number((n=document.querySelector("#max-price"))==null?void 0:n.value.replace(/,/g,""));return r?t.items.filter(o=>{var h,f;let i=Number((h=o.element.querySelector('[data-element="min-price"]'))==null?void 0:h.innerText.replace(/,/g,""));if(!i)return;let c=Number((f=o.element.querySelector('[data-element="max-price"]'))==null?void 0:f.innerText.replace(/,/g,"")),u=!1;return c?(c>=e&&c<=r||i>=e&&i<=r)&&(u=!0):i>=e&&i<=r&&(u=!0),u}).map(o=>o.element):void 0},w=(t,e)=>{let r=e.cloneNode(!0);return r.value=t,t.charAt(0)>="0"&&t.charAt(0)<="9"&&(t="$"+A(t)),r.textContent=t,r},H=(t,e)=>{let r=[],l=t.items;if(t){for(let a of l){let n=a.element.querySelector('[fs-cmsfilter-field="'+e+'"]');n!=null&&n.innerText&&r.push(n.innerText)}if(r)return r}},y=(t,e)=>{let r=t.options[0];if(!r)return;let l=t.options.length-1,a;for(a=l;a>=1;a--)t.remove(a);let n=[];e.forEach(i=>{!n.includes(i)&&n.push(i)});let o=Array.from(e[0])[0];if(o==="C"||o==="Q"){let i=n.indexOf("Completed");i>-1&&n.splice(i,1),n.sort((c,u)=>u.slice(3)-c.slice(3)||u[1].localeCompare(c[1])),n.unshift("Completed")}for(let i of n){let c=w(i,r);c&&t.append(c)}},g=(t,e,r,l)=>{let a=t.items,n=[];if(t){for(let o of a){let i=o.element.querySelector('[data-element="'+r+'"]');if(!i)return;let c=parseInt(i.innerText),u=o.element.querySelector('[data-element="'+l+'"]');if(!u)return;let h=parseInt(u.innerText),f=[];h?(f=Array.from({length:h-c+1},(L,b)=>c+b),n.push(...f)):(f.push(c),n.push(...f));let d=o.element.querySelector('[data-element="'+e+'"]');if(!d)return;let S=d.parentElement;if(!S)return;d.remove();for(let L of f){let b=I(L,d);b&&S.append(b)}}if(n=n.filter((o,i,c)=>c.indexOf(o)===i),n=n.sort(function(o,i){return o-i}),!!n)return n}},I=(t,e)=>{let r=e.cloneNode(!0);return r.textContent=t.toString(),r},v=(t,e)=>{let r=e.cloneNode(!0),l=r.querySelector("span"),a=r.querySelector("input");if(!(!l||!a))return l.textContent=t.toString(),a.value=t.toString(),r},C=t=>{let{parentElement:e}=t,r=e==null?void 0:e.querySelector('[data-element="radio-options"]');r.classList.contains("hide")?(r.classList.remove("hide"),t.classList.add("enabled")):M()},M=()=>{document.querySelectorAll('[data-element="radio-options"]').forEach(t=>{t.classList.add("hide")}),document.querySelectorAll(".checkbox-select-wrapper").forEach(t=>{t.classList.remove("enabled")}),D()},D=async()=>{await F(100);let t=document.querySelectorAll('[data-element="radio-select-wrapper"]');t&&t.forEach(e=>{var i;let r=e.querySelector('[data-element="radio-select-text"]');if(!r)return;let l=(i=e.querySelector(".im-label strong"))==null?void 0:i.textContent;if(!l)return;let a="Any "+l,n="";e.querySelectorAll(".fs-cmsfilter_active").forEach(c=>{var u;n+=(u=c.querySelector(".w-form-label"))==null?void 0:u.textContent,n+=", "}),n=n.trim();let o=n.length;o>0?r.textContent=n.substring(0,o-1):r.textContent=a})},F=t=>new Promise(e=>setTimeout(e,t)),A=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");})();
