"use strict";(()=>{window.fsAttributes=window.fsAttributes||[];window.fsAttributes.push(["cmsload",async t=>{let[e]=t;window.fsAttributes.push(["cmsfilter",r=>{let[l]=r;if(!l||!e)return;let c=F(e,"Completion");if(!c)return;let n=l.form.querySelector('[data-element="completion"]');if(!n)return;b(n,c);let i=[];for(let s=4e5;s<=15e5;s=s+1e5)i.push(s.toString());if(!i)return;let o=l.form.querySelector('[data-element="price-dropdown-min"]');if(!o)return;let m=l.form.querySelector('[data-element="price-dropdown-max"]');if(!m)return;b(o,i),b(m,i);let u=v(e,"criteria-beds","min-beds","max-beds");if(!u)return;let h=v(e,"criteria-baths","min-baths","max-baths");if(!h)return;let f=l.form.querySelector('[data-element="beds-filter"]');if(!f)return;let d=l.form.querySelector('[data-element="baths-filter"]');if(!d)return;let y=f.parentElement;if(!y)return;let S=d.parentElement;if(!S)return;f.remove(),d.remove();for(let s of u){let a=M(s,f);a&&y.append(a)}for(let s of h){let a=M(s,d);a&&S.append(a)}let L=e.items.map(s=>s.element);e.clearItems(),e.addItems(L),l.storeFiltersData();let E=document.querySelector("#min-price");if(!E)return;let T=document.querySelector("#max-price");if(!T)return;let g=document.querySelector("#Property-2");if(!g)return;g.addEventListener("change",s=>{let a=s.target.value;a&&q(a)});let q=s=>{e.clearItems(),e.addItems(L);let a=H(e,s);a&&(e.clearItems(),e.addItems(a))};E.addEventListener("change",s=>{let a=s.target.value;a&&(document.querySelectorAll("#max-price option").forEach(p=>{p.style.display="block"}),document.querySelectorAll("#max-price option").forEach(p=>{Number(p.value)<=Number(a)&&(p.style.display="none")}),x())}),T.addEventListener("change",s=>{let a=s.target.value;a&&(document.querySelectorAll("#min-price option").forEach(p=>{p.style.display="block"}),document.querySelectorAll("#min-price option").forEach(p=>{Number(p.value)>=Number(a)&&(p.style.display="none")}),x())});let x=()=>{e.clearItems(),e.addItems(L);let s=I(e);s&&(e.clearItems(),e.addItems(s))};document.addEventListener("click",s=>{let a=s.target;a&&(a.classList.contains("checkbox-select-wrapper")?C(a):a.classList.contains("checkbox-select-text")?C(a.parentElement):w())}),document.querySelectorAll(".button-secondary.pagination").forEach(s=>{s.addEventListener("click",()=>{window.scrollTo({top:500,behavior:"smooth"})})})}])}]);var H=(t,e)=>t.items.filter(l=>{var i;let c=(i=l.element.querySelector('[data-element="property-type"]'))==null?void 0:i.innerText;if(!c)return;let n=!1;return e==="All"?n=!0:e==="Townhouses"?n=c==="Townhouses"||c==="Live/Work Townhouses":n=c===e,n}).map(l=>l.element),I=t=>{var c,n;let e=Number((c=document.querySelector("#min-price"))==null?void 0:c.value.replace(/,/g,""));if(!e)return;e=e-26e3;let r=Number((n=document.querySelector("#max-price"))==null?void 0:n.value.replace(/,/g,""));return r?t.items.filter(i=>{var h,f;let o=Number((h=i.element.querySelector('[data-element="min-price"]'))==null?void 0:h.innerText.replace(/,/g,""));if(!o)return;let m=Number((f=i.element.querySelector('[data-element="max-price"]'))==null?void 0:f.innerText.replace(/,/g,"")),u=!1;return m?(m>=e&&m<=r||o>=e&&o<=r)&&(u=!0):o>=e&&o<=r&&(u=!0),u}).map(i=>i.element):void 0},D=(t,e)=>{let r=e.cloneNode(!0);return r.value=t,t.charAt(0)>="0"&&t.charAt(0)<="9"&&(t="$"+N(t)),r.textContent=t,r},F=(t,e)=>{let r=[],l=t.items;if(t){for(let c of l){let n=c.element.querySelector('[fs-cmsfilter-field="'+e+'"]');n!=null&&n.innerText&&r.push(n.innerText)}if(r)return r}},b=(t,e)=>{let r=t.options[0];if(!r)return;let l=t.options.length-1,c;for(c=l;c>=1;c--)t.remove(c);let n=[];e.forEach(o=>{!n.includes(o)&&n.push(o)});let i=Array.from(e[0])[0];if(i==="C"||i==="Q"){let o=n.indexOf("Completed");o>-1&&n.splice(o,1),n.sort((m,u)=>u.slice(3)-m.slice(3)||u[1].localeCompare(m[1])),n.unshift("Completed")}for(let o of n){let m=D(o,r);m&&t.append(m)}},v=(t,e,r,l)=>{let c=t.items,n=[];if(t){for(let i of c){let o=i.element.querySelector('[data-element="'+r+'"]');if(!o)return;let m=parseInt(o.innerText),u=i.element.querySelector('[data-element="'+l+'"]');if(!u)return;let h=parseInt(u.innerText),f=[];h?(f=Array.from({length:h-m+1},(S,L)=>m+L),n.push(...f)):(f.push(m),n.push(...f));let d=i.element.querySelector('[data-element="'+e+'"]');if(!d)return;let y=d.parentElement;if(!y)return;d.remove();for(let S of f){let L=A(S,d);L&&y.append(L)}}if(n=n.filter((i,o,m)=>m.indexOf(i)===o),n=n.sort(function(i,o){return i-o}),!!n)return n}},A=(t,e)=>{let r=e.cloneNode(!0);return r.textContent=t.toString(),r},M=(t,e)=>{let r=e.cloneNode(!0),l=r.querySelector("span"),c=r.querySelector("input");if(!(!l||!c))return l.textContent=t.toString(),c.value=t.toString(),r},C=t=>{let{parentElement:e}=t,r=e==null?void 0:e.querySelector('[data-element="radio-options"]');r.classList.contains("hide")?(r.classList.remove("hide"),t.classList.add("enabled")):w()},w=()=>{document.querySelectorAll('[data-element="radio-options"]').forEach(t=>{t.classList.add("hide")}),document.querySelectorAll(".checkbox-select-wrapper").forEach(t=>{t.classList.remove("enabled")}),k()},k=async()=>{await P(100);let t=document.querySelectorAll('[data-element="radio-select-wrapper"]');t&&t.forEach(e=>{var o;let r=e.querySelector('[data-element="radio-select-text"]');if(!r)return;let l=(o=e.querySelector(".im-label strong"))==null?void 0:o.textContent;if(!l)return;let c="Any "+l,n="";e.querySelectorAll(".fs-cmsfilter_active").forEach(m=>{var u;n+=(u=m.querySelector(".w-form-label"))==null?void 0:u.textContent,n+=", "}),n=n.trim();let i=n.length;i>0?r.textContent=n.substring(0,i-1):r.textContent=c})},P=t=>new Promise(e=>setTimeout(e,t)),N=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");})();
