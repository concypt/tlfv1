"use strict";(()=>{window.fsAttributes=window.fsAttributes||[];window.fsAttributes.push(["cmsload",async t=>{let[e]=t;window.fsAttributes.push(["cmsfilter",r=>{let[i]=r;if(!i||!e)return;let m=I(e,"Completion");if(!m)return;let n=i.form.querySelector('[data-element="completion"]');if(!n)return;v(n,m);let c=[];for(let s=4e5;s<=15e5;s=s+1e5)c.push(s.toString());if(!c)return;let o=i.form.querySelector('[data-element="price-dropdown-min"]');if(!o)return;let l=i.form.querySelector('[data-element="price-dropdown-max"]');if(!l)return;v(o,c),v(l,c);let u=x(e,"criteria-beds","min-beds","max-beds");if(!u)return;let h=x(e,"criteria-baths","min-baths","max-baths");if(!h)return;let f=i.form.querySelector('[data-element="beds-filter"]');if(!f)return;let p=i.form.querySelector('[data-element="baths-filter"]');if(!p)return;let d=f.parentElement;if(!d)return;let S=p.parentElement;if(!S)return;f.remove(),p.remove();for(let s of u){let a=M(s,f);a&&d.append(a)}for(let s of h){let a=M(s,p);a&&S.append(a)}let y=e.items.map(s=>s.element);e.clearItems(),e.addItems(y),i.storeFiltersData();let T=document.querySelector("#min-price");if(!T)return;let E=document.querySelector("#max-price");if(!E)return;let g=document.querySelector("#Property-2");if(!g)return;g.addEventListener("change",s=>{s.target.value&&b()}),T.addEventListener("change",s=>{let a=s.target.value;a&&(document.querySelectorAll("#max-price option").forEach(L=>{L.style.display="block"}),document.querySelectorAll("#max-price option").forEach(L=>{Number(L.value)<=Number(a)&&(L.style.display="none")}),b())}),E.addEventListener("change",s=>{let a=s.target.value;a&&(document.querySelectorAll("#min-price option").forEach(L=>{L.style.display="block"}),document.querySelectorAll("#min-price option").forEach(L=>{Number(L.value)>=Number(a)&&(L.style.display="none")}),b())});let b=()=>{e.clearItems(),e.addItems(y);let s=q(e);s&&(e.clearItems(),e.addItems(s))};document.addEventListener("click",s=>{let a=s.target;a&&(a.classList.contains("checkbox-select-wrapper")?C(a):a.classList.contains("checkbox-select-text")?C(a.parentElement):w())}),document.querySelectorAll(".button-secondary.pagination").forEach(s=>{s.addEventListener("click",()=>{window.scrollTo({top:500,behavior:"smooth"})})})}])}]);var q=t=>{var n,c,o;let e=Number((n=document.querySelector("#min-price"))==null?void 0:n.value.replace(/,/g,""));if(!e)return;e=e-26e3;let r=Number((c=document.querySelector("#max-price"))==null?void 0:c.value.replace(/,/g,""));if(!r)return;let i=(o=document.querySelector("#Property-2"))==null?void 0:o.value;return i?t.items.filter(l=>{var y,T,E;let u=Number((y=l.element.querySelector('[data-element="min-price"]'))==null?void 0:y.innerText.replace(/,/g,""));if(!u)return;let h=Number((T=l.element.querySelector('[data-element="max-price"]'))==null?void 0:T.innerText.replace(/,/g,"")),f=(E=l.element.querySelector('[data-element="property-type"]'))==null?void 0:E.innerText,p=!1,d=!1;i==="All"?d=!0:i==="Townhouses"?d=f==="Townhouses"||f==="Live/Work Townhouses":d=f===i,h?(h>=e&&h<=r||u>=e&&u<=r)&&(p=!0):u>=e&&u<=r&&(p=!0);let S=!1;return S=p&&d,S}).map(l=>l.element):void 0},H=(t,e)=>{let r=e.cloneNode(!0);return r.value=t,t.charAt(0)>="0"&&t.charAt(0)<="9"&&(t="$"+k(t)),r.textContent=t,r},I=(t,e)=>{let r=[],i=t.items;if(t){for(let m of i){let n=m.element.querySelector('[fs-cmsfilter-field="'+e+'"]');n!=null&&n.innerText&&r.push(n.innerText)}if(r)return r}},v=(t,e)=>{let r=t.options[0];if(!r)return;let i=t.options.length-1,m;for(m=i;m>=1;m--)t.remove(m);let n=[];e.forEach(o=>{!n.includes(o)&&n.push(o)});let c=Array.from(e[0])[0];if(c==="C"||c==="Q"){let o=n.indexOf("Completed");o>-1&&n.splice(o,1),n.sort((l,u)=>u.slice(3)-l.slice(3)||u[1].localeCompare(l[1])),n.unshift("Completed")}for(let o of n){let l=H(o,r);l&&t.append(l)}},x=(t,e,r,i)=>{let m=t.items,n=[];if(t){for(let c of m){let o=c.element.querySelector('[data-element="'+r+'"]');if(!o)return;let l=parseInt(o.innerText),u=c.element.querySelector('[data-element="'+i+'"]');if(!u)return;let h=parseInt(u.innerText),f=[];h?(f=Array.from({length:h-l+1},(S,y)=>l+y),n.push(...f)):(f.push(l),n.push(...f));let p=c.element.querySelector('[data-element="'+e+'"]');if(!p)return;let d=p.parentElement;if(!d)return;p.remove();for(let S of f){let y=D(S,p);y&&d.append(y)}}if(n=n.filter((c,o,l)=>l.indexOf(c)===o),n=n.sort(function(c,o){return c-o}),!!n)return n}},D=(t,e)=>{let r=e.cloneNode(!0);return r.textContent=t.toString(),r},M=(t,e)=>{let r=e.cloneNode(!0),i=r.querySelector("span"),m=r.querySelector("input");if(!(!i||!m))return i.textContent=t.toString(),m.value=t.toString(),r},C=t=>{let{parentElement:e}=t,r=e==null?void 0:e.querySelector('[data-element="radio-options"]');r.classList.contains("hide")?(r.classList.remove("hide"),t.classList.add("enabled")):w()},w=()=>{document.querySelectorAll('[data-element="radio-options"]').forEach(t=>{t.classList.add("hide")}),document.querySelectorAll(".checkbox-select-wrapper").forEach(t=>{t.classList.remove("enabled")}),F()},F=async()=>{await A(100);let t=document.querySelectorAll('[data-element="radio-select-wrapper"]');t&&t.forEach(e=>{var o;let r=e.querySelector('[data-element="radio-select-text"]');if(!r)return;let i=(o=e.querySelector(".im-label strong"))==null?void 0:o.textContent;if(!i)return;let m="Any "+i,n="";e.querySelectorAll(".fs-cmsfilter_active").forEach(l=>{var u;n+=(u=l.querySelector(".w-form-label"))==null?void 0:u.textContent,n+=", "}),n=n.trim();let c=n.length;c>0?r.textContent=n.substring(0,c-1):r.textContent=m})},A=t=>new Promise(e=>setTimeout(e,t)),k=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");})();
